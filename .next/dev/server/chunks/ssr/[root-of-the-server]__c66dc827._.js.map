{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tosib/Downloads/billing-main/billing-main/src/pages/login.tsx"],"sourcesContent":["import { useState } from \"react\"\r\nimport { useRouter } from \"next/router\"\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter()\r\n\r\n  const [email, setEmail] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [error, setError] = useState(\"\")\r\n\r\n  const handleLogin = async (e: any) => {\r\n    e.preventDefault()\r\n    setError(\"\")\r\n\r\n    const res = await fetch(\"/api/login\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ email, password })\r\n    })\r\n\r\n    const data = await res.json()\r\n\r\n    if (!res.ok) {\r\n      setError(data.error)\r\n      return\r\n    }\r\n\r\n    // temporary session (local storage)\r\n    localStorage.setItem(\"user\", JSON.stringify(data))\r\n\r\n    router.push(\"/dashboard\")\r\n  }\r\n\r\n  return (\r\n    <div style={{ display:\"flex\", height:\"100vh\", alignItems:\"center\", justifyContent:\"center\" }}>\r\n      <form onSubmit={handleLogin} style={{ width:300 }}>\r\n        <h1>Ice Spot Login</h1>\r\n\r\n        <input\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={(e)=>setEmail(e.target.value)}\r\n          style={{ width:\"100%\", padding:10, marginTop:10 }}\r\n        />\r\n\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={(e)=>setPassword(e.target.value)}\r\n          style={{ width:\"100%\", padding:10, marginTop:10 }}\r\n        />\r\n\r\n        {error && (\r\n          <p style={{ color:\"red\" }}>{error}</p>\r\n        )}\r\n\r\n        <button style={{ width:\"100%\", padding:10, marginTop:10 }}>\r\n          Login\r\n        </button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,MAAM,SAAS,IAAA,oIAAS;IAExB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IAEnC,MAAM,cAAc,OAAO;QACzB,EAAE,cAAc;QAChB,SAAS;QAET,MAAM,MAAM,MAAM,MAAM,cAAc;YACpC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAO;YAAS;QACzC;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,SAAS,KAAK,KAAK;YACnB;QACF;QAEA,oCAAoC;QACpC,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAE5C,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,qKAAC;QAAI,OAAO;YAAE,SAAQ;YAAQ,QAAO;YAAS,YAAW;YAAU,gBAAe;QAAS;kBACzF,cAAA,qKAAC;YAAK,UAAU;YAAa,OAAO;gBAAE,OAAM;YAAI;;8BAC9C,qKAAC;8BAAG;;;;;;8BAEJ,qKAAC;oBACC,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAI,SAAS,EAAE,MAAM,CAAC,KAAK;oBACtC,OAAO;wBAAE,OAAM;wBAAQ,SAAQ;wBAAI,WAAU;oBAAG;;;;;;8BAGlD,qKAAC;oBACC,MAAK;oBACL,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAI,YAAY,EAAE,MAAM,CAAC,KAAK;oBACzC,OAAO;wBAAE,OAAM;wBAAQ,SAAQ;wBAAI,WAAU;oBAAG;;;;;;gBAGjD,uBACC,qKAAC;oBAAE,OAAO;wBAAE,OAAM;oBAAM;8BAAI;;;;;;8BAG9B,qKAAC;oBAAO,OAAO;wBAAE,OAAM;wBAAQ,SAAQ;wBAAI,WAAU;oBAAG;8BAAG;;;;;;;;;;;;;;;;;AAMnE"}}]
}